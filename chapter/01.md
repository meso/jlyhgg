---
title: "Introduction - はじめに"
layout: article
---



## About this tutorial - このチュートリアルについて

Learn You a Haskell for Great Good! へようこそ! これを読んでいるということは、あなたはHaskellを学ぼうとしているのだろう。まずはこのチュートリアルについて少し説明させてほしい。

コレを書こうと決めたのは、私のHaskellについての知識を確固たるものにしたかったのと、これからHaskellを学ぼうとしている人の助けになるのではないかと考えたからだ。インターネット上には、Haskellのチュートリアルが溢れかえっている。私がHaskellを学び始めたときは、ひとつの資料から学ぶことはしなかった。私の学び方は、異なるいくつかのチュートリアルや記事を読む、というものだった。なぜなら、何かを説明するとき、それぞれの記事がそれぞれ異なる方法で説明していたからだ。こうして、いくつかの資料に目を通すことで、私はこれらの断片を組み合わせて、一つの場所へまとめることができるようになった。つまり、これはHaskellを学ぶのに有益な資料の断片をまとめる試みだ。あなたはこれを気に入ってくれると思う。

![画像 bird](//s3.amazonaws.com/lyah/bird.png)

このチュートリアルは、CやC++、JavaやPythonなどの命令的なプログラミング言語の経験はあるものの、HaskellやML、OCamlなどの関数言語の経験はない人々を対象としている。たとえ、あなたは際立ったプログラミングの経験がないとしても、あなたのように賢い人であれば、間違いなくHaskellを学ぶのについてこれるだろう。

もし、何かに躓いたら、freenode.netの#haskellチャネルという質問をするのに最適な場所がある。そのチャネルにいる人達は、初心者にとても寛容ないい人ばかりだ。

最終的に私がHaskellを習得するまで、、およそ2回も挫折している。私にはすべてが奇妙に見えて、理解できなかった。しかし、一度カチッという音がすれば、最初のハードルは越えられて、あとは順調な船旅がはじまる。私が言おうとしていることは、こうだ。Haskellは素晴らしい。もし、Haskellでのプログラミングに興味があれば、最初は奇妙に見えるかもしれないが、Haskellを学ぶべきだ。Haskellを学ぶというのは、はじめてプログラミングを学ぶのとよく似ている。そう、おもしろいのだ! Haskellは、まったく異なる考え方をあなたに要求する。それについては、次の節に持ち越そう。



## So what's Haskell? - で、Haskellって何なのさ?

![画像 fx](//s3.amazonaws.com/lyah/fx.png)

Haskellは、純粋な関数プログラミング言語だ。命令的な言語の場合、一連のタスクをコンピュータに与えて実行することで、何かを取得する。実行されている間、それらは状態を変化させることができる。たとえば、まず変数に`5`をセットして、それから何かをして、その変数にまた何かをセットする。あるアクションを何回か実行するための制御構造が用意されている。一方、純粋な関数プログラミングでは、コンピュータに対してこのように、何がしたいか、というのを伝える必要はなく、むしろ、それが何であるかを伝える。ある数値の階乗というのは、1からその数値までをすべて乗算した結果であり、数値のリストの合計というのは、リストの最初の数値から最後の数値までを足した数となる。今、あなたは関数の形式で物事を説明した。あなたは、変数をセットして、後からその変数に何か別のものをセットすることはできない。もし、これは`5`であると一度でも言ってしまったら、後からそれが別のものである、と言うことはできない。なんだか嘘つきみたいだね? そう、純粋な関数プログラミング言語では、関数は副作用を持たないのだ。関数にできることといえば、何かを計算して、その結果を返すくらいだ。最初は、これが制限のように見えるかもしれないが、これが素晴らしい結果をもたらす。もし、ある関数が同じパラメータで2回呼ばれたら、2回とも同じ結果になることが保証されるのだ。これは、参照透過性と呼ばれ、これにより、プログラムの振舞がコンパイラによって推測出来るようになるだけでなく、簡単に関数が正しいことも推測(そして証明さえも)できるようになる。そして、シンプルな関数を組み合わせることで、より複雑な関数を作ることができる。

![画像 lazy](//s3.amazonaws.com/lyah/lazy.png)

Haskellは遅延評価を行う。これが意味するところは後で説明するが、あなたが結果を表示するように強制しないかぎり、Haskellは関数を実行して、何かを計算することはしない。これは参照透過性と相性がよく、プログラムがデータを変形するための一連のまとまりであると考えるのを可能にしてくれる。また、無限を扱うデータ構造など、クールなことも可能にしてくれる。では、`xs = [1,2,3,4,5,6,7,8]`というイミュータブルなリストがあるとしよう。そして、`doubleMe`という、リスト内のすべての要素を2倍して、新しいリストを返す関数があるとしよう。もし、リスト内のすべての要素を8倍したければ、命令的言語の場合、`doubleMe(doubleMe(doubleMe(xs)))`とするだろう。これは、まず最も内側の関数がリストを一度スキャンして、そのコピーを返すことになる。それを、外側の関数も同様に、あと2回行って、最終的な結果を返す。一方、遅延評価をする言語では、結果を表示するよう強制することなく、リストに対して`doubleMe`を呼び出すと、「うぇーいwwwwあとでやるわwww」というプログラムになる。しかし、一度結果を表示すれば、最初の`doubleMe`が、今2番目が結果を欲しがってるよ!、と伝え、2番目の`doubleMe`が、3番目にたいしても同じことを伝え、3番目が渋々`doubleMe`の結果、つまりリストの最初の要素`1`を2倍した結果である`2`を返す。そして、2番目がそれを受け取り、さらに最初の`doubleMe`へと返す。最後に、最初の`doubleMe`がそれを受け取り、受け取った要素が`8`であると表示する。つまり、これらの関数をリストが通過するのは一度だけであり、しかも、それは表示する必要が生じた時のみに行われる。遅延評価をする言語で何かを取得したい場合は、まず、何らかの初期値を渡して、それを効率よく変形させ、期待する結果へと近づくように修正していくのだ。

![画像 boat](//s3.amazonaws.com/lyah/boat.png)

Haskellは、静的に型付けされている。あなたのプログラムをコンパイルすると、コンパイラは、あるコードの断片が数値なのか、文字列なのか、あるいは別の何かであるかを知ることができる。これは、数多くの潜在的なエラーがコンパイルの時点で捉えられることを意味する。たとえば、数値と文字列をたそうとすると、コンパイラはあなたに釘を刺すだろう。Haskellには、型推論という素晴らしい型システムが備わっている。型システムが非常に賢く、コードの断片の型を見つけ出してくれるので、コードの断片に対して型というラベルを明示的に貼り付ける必要はない。たとえば、`a = 5 + 4`とするときに、Haskellに対して、`a`が数値であることを伝える必要はない。その型が何なのか、Haskell自身が解決してくれるのだ。型推論のおかげで、コードはより汎用的になる。もし、2つのパラメータを受け取り、それらを足し合わせる関数を作った場合、それらの型を明示的に述べる必要はない。その関数は数値として振る舞うものであれば、どんなパラメータに対しても機能するのだ。

Haskellは簡潔で美しい。なぜなら、ハイレベルな概念を使うからであり、命令的な言語で同じことをしようとすると、Haskellのコードのほうが通常は短くなる。より短いコードのほうがメンテナンスはしやすく、また、バグも少なくなる。

HaskellはPhDを取得した非常に賢い男によって作られた。Haskellへの取り組みは、1987年からはじまり、イケてる言語を設計するために研究者の委員会が消臭された。2003年になると、安定版の言語仕様を定めたHaskellのレポートが発行された。



## What you need to dive in - 冒険に必要なもの

テキストエディタとHaskellのこんぱいらだ。お気にい入りのエディタは既にインストール済みだろうから、これに時間を費やすことはないだろう。このチュートリアルのために、我々はGHCというHaskellのコンパイラとして一般的なものを使う。おすすめの方法は、Haskell Platformをインストールする方法だ。

GHCはHaskellスクリプト(通常は拡張子`.hs`)を受け取ってコンパイルすることができる。しかし、インタラクティブモードも備えている。これは、インタラクティブにスクリプトを実行してくれる機能だ。このモードでは、読み込んだスクリプトから関数を呼び出すと、すぐにその結果がディスプレイに表示される。毎回コンパイルするより、プログラムを変更してからプロンプトで実行する、という方法を使ってHaskellを学ぶほうが手っ取り早くて簡単だ。GHCのインタラクティブモードを起動するには、プロンプトに`ghci`と入力する。たとえば、`myfunctions.hs`というファイルに、いくつかの関数を定義したら、それらの関数は、`:l myfunctions`と入力することで読み込める。なお、`myfunctions.hs`は、`ghci`を起動したディレクトリと同じディレクトリに作成する。このスクリプトを書き換えた場合は、`:l myfunctions`を再度入力するか、現在読み込まれているスクリプトを再読込する`:r`を入力する。なにかを試す時の一般的な流れとしては、まず、`.hs`ファイルに何らかの関数を定義して、それを読み込み、とりあえず使ってみる。それから、再び`.hs`ファイルを編集して、それを読み込み、というのを繰り返す。このチュートリアルでは、このように、実際に試しながら話を進めていく。
